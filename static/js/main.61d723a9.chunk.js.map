{"version":3,"sources":["Components/Modal/Modal.module.css","Components/App/App.module.css","Components/PhotoCard/PhotoCard.module.css","Components/SearchForm/SearchForm.module.css","Components/PhotoCard/PhotoCard.jsx","Components/Gallery/Gallery.jsx","Components/SearchForm/SearchForm.jsx","services/Image-api.jsx","Components/Modal/Modal.jsx","Components/App/App.jsx","index.js","Components/Gallery/Gallery.module.css"],"names":["module","exports","PhotoCard","likes","views","comments","downloads","src","onOpenModal","className","styles","photo__card","alt","stats","stats__item","onClick","type","fullscreen__button","Gallery","images","gallery","map","id","webformatURL","largeImageURL","key","gallery__item","SearchForm","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","search_form","autoComplete","placeholder","onChange","React","Component","API_URL","API_KEY","fetchImages","page","axios","get","Modal","backdropRef","createRef","hadleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","role","overlay","ref","modal","App","currentPage","search","isModalOpen","checkedImageId","handleLoadMore","openModal","closeModal","imageAPI","then","response","data","hits","catch","err","prevProps","prevState","finally","scrollTo","top","behavior","checkedImage","find","image","button","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61d723a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__NZynP\",\"modal\":\"Modal_modal__3w9_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__16M1a\",\"button\":\"App_button__1EDje\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo__card\":\"PhotoCard_photo__card__1t6YF\",\"stats\":\"PhotoCard_stats__2Mn82\",\"stats__item\":\"PhotoCard_stats__item__2S4MK\",\"fullscreen__button\":\"PhotoCard_fullscreen__button__2okGW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__1cbAn\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({ likes, views, comments, downloads, src, onOpenModal }) => (\n  <div className={styles.photo__card}>\n    <img src={src} alt=\"car\" />\n\n    <div className={styles.stats}>\n      <p className={styles.stats__item}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={styles.stats__item}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.stats__item}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.stats__item}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button\n      onClick={onOpenModal}\n      type=\"button\"\n      className={styles.fullscreen__button}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  src: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ images, onOpenModal }) => (\n  <ul className={styles.gallery}>\n    {images.map(\n      ({\n        id,\n        webformatURL,\n        comments,\n        likes,\n        views,\n        downloads,\n        largeImageURL,\n      }) => (\n        <li key={id} className={styles.gallery__item}>\n          <PhotoCard\n            src={webformatURL}\n            largeImageURL={largeImageURL}\n            comments={comments}\n            likes={likes}\n            views={views}\n            downloads={downloads}\n            onOpenModal={() => onOpenModal(id)}\n          />\n        </li>\n      ),\n    )}\n  </ul>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends React.Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={query}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nconst API_URL = `https://pixabay.com/api/`;\nconst API_KEY = '13871773-a660d3f12fc84710292c43b38';\nconst DEFAULT_QUERY = 'car';\n\n/* eslint-disable-next-line */\nexport const fetchImages = (page, query = DEFAULT_QUERY) =>\n  axios.get(`${API_URL}?key=${API_KEY}&q=${query}&page=${page}&per_page=12`);\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends React.Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.hadleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hadleKeyPress);\n  }\n\n  hadleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        role=\"presentation\"\n        className={styles.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.node.isRequired,\n  ]).isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport Gallery from '../Gallery/Gallery';\nimport SearchForm from '../SearchForm/SearchForm';\nimport * as imageAPI from '../../services/Image-api';\nimport Modal from '../Modal/Modal';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    search: 'car',\n    isModalOpen: false,\n    checkedImageId: null,\n  };\n\n  componentDidMount() {\n    const { currentPage, search } = this.state;\n    imageAPI\n      .fetchImages(currentPage, search)\n      .then(response => {\n        this.setState({ images: [...response.data.hits] });\n      })\n      .catch(err => this.setState({ err }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, search } = this.state;\n\n    if (prevState.search !== search) {\n      imageAPI\n        .fetchImages(currentPage, search)\n        .then(response => {\n          this.setState({ images: [...response.data.hits] });\n        })\n        .catch(err => this.setState({ err }));\n    }\n\n    if (\n      prevState.currentPage !== currentPage &&\n      prevState.currentPage < currentPage\n    ) {\n      imageAPI\n        .fetchImages(currentPage, search)\n        .then(response => {\n          this.setState(state => ({\n            images: [...state.images, ...response.data.hits],\n          }));\n        })\n        .catch(err => this.setState({ err }))\n        .finally(() => {\n          window.scrollTo({\n            top: 1000,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  fetchImages = query => {\n    this.setState({\n      currentPage: 1,\n      search: query,\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState(state => ({\n      currentPage: state.currentPage + 1,\n    }));\n  };\n\n  openModal = id => {\n    this.setState({\n      checkedImageId: id,\n      isModalOpen: true,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    const { images, isModalOpen, checkedImageId } = this.state;\n    const checkedImage = images.find(image => image.id === checkedImageId);\n    return (\n      <div className={styles.App}>\n        <SearchForm onSubmit={this.fetchImages} />\n        <Gallery images={images} onOpenModal={this.openModal} />\n        <button\n          type=\"button\"\n          className={styles.button}\n          onClick={this.handleLoadMore}\n        >\n          Load More\n        </button>\n        {isModalOpen && (\n          <Modal onClose={this.closeModal}>\n            <img src={checkedImage.largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2H_Gs\"};"],"sourceRoot":""}