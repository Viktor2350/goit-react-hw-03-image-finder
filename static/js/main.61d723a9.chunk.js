(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__NZynP",modal:"Modal_modal__3w9_W"}},11:function(e,t,a){e.exports={app:"App_app__16M1a",button:"App_button__1EDje"}},2:function(e,t,a){e.exports={photo__card:"PhotoCard_photo__card__1t6YF",stats:"PhotoCard_stats__2Mn82",stats__item:"PhotoCard_stats__item__2S4MK",fullscreen__button:"PhotoCard_fullscreen__button__2okGW"}},22:function(e,t,a){e.exports={search_form:"SearchForm_search_form__1cbAn"}},24:function(e,t,a){e.exports=a(47)},29:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),s=(a(29),a(8)),l=a(3),i=a(4),u=a(6),m=a(5),d=a(7),p=a(2),h=a.n(p),f=function(e){var t=e.likes,a=e.views,n=e.comments,c=e.downloads,o=e.src,s=e.onOpenModal;return r.a.createElement("div",{className:h.a.photo__card},r.a.createElement("img",{src:o,alt:"car"}),r.a.createElement("div",{className:h.a.stats},r.a.createElement("p",{className:h.a.stats__item},r.a.createElement("i",{className:"material-icons"},"thumb_up"),t),r.a.createElement("p",{className:h.a.stats__item},r.a.createElement("i",{className:"material-icons"},"visibility"),a),r.a.createElement("p",{className:h.a.stats__item},r.a.createElement("i",{className:"material-icons"},"comment"),n),r.a.createElement("p",{className:h.a.stats__item},r.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),r.a.createElement("button",{onClick:s,type:"button",className:h.a.fullscreen__button},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},_=a(9),b=a.n(_),g=function(e){var t=e.images,a=e.onOpenModal;return r.a.createElement("ul",{className:b.a.gallery},t.map((function(e){var t=e.id,n=e.webformatURL,c=e.comments,o=e.likes,s=e.views,l=e.downloads,i=e.largeImageURL;return r.a.createElement("li",{key:t,className:b.a.gallery__item},r.a.createElement(f,{src:n,largeImageURL:i,comments:c,likes:o,views:s,downloads:l,onOpenModal:function(){return a(t)}}))})))},v=a(22),y=a.n(v),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.query),a.setState({query:""})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("form",{className:y.a.search_form,onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:e,onChange:this.handleChange}))}}]),t}(r.a.Component),k=a(23),O=a.n(k),w="https://pixabay.com/api/",M="13871773-a660d3f12fc84710292c43b38",j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"car";return O.a.get("".concat(w,"?key=").concat(M,"&q=").concat(t,"&page=").concat(e,"&per_page=12"))},N=a(10),S=a.n(N),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).backdropRef=Object(n.createRef)(),a.hadleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleBackdropClick=function(e){var t=a.backdropRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hadleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.hadleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{role:"presentation",className:S.a.overlay,ref:this.backdropRef,onClick:this.handleBackdropClick},r.a.createElement("div",{className:S.a.modal},e))}}]),t}(r.a.Component),P=a(11),I=a.n(P),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],currentPage:1,search:"car",isModalOpen:!1,checkedImageId:null},a.fetchImages=function(e){a.setState({currentPage:1,search:e})},a.handleLoadMore=function(){a.setState((function(e){return{currentPage:e.currentPage+1}}))},a.openModal=function(e){a.setState({checkedImageId:e,isModalOpen:!0})},a.closeModal=function(){a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.currentPage,n=t.search;j(a,n).then((function(t){e.setState({images:Object(s.a)(t.data.hits)})})).catch((function(t){return e.setState({err:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.currentPage,c=n.search;t.search!==c&&j(r,c).then((function(e){a.setState({images:Object(s.a)(e.data.hits)})})).catch((function(e){return a.setState({err:e})})),t.currentPage!==r&&t.currentPage<r&&j(r,c).then((function(e){a.setState((function(t){return{images:[].concat(Object(s.a)(t.images),Object(s.a)(e.data.hits))}}))})).catch((function(e){return a.setState({err:e})})).finally((function(){window.scrollTo({top:1e3,behavior:"smooth"})}))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isModalOpen,n=e.checkedImageId,c=t.find((function(e){return e.id===n}));return r.a.createElement("div",{className:I.a.App},r.a.createElement(E,{onSubmit:this.fetchImages}),r.a.createElement(g,{images:t,onOpenModal:this.openModal}),r.a.createElement("button",{type:"button",className:I.a.button,onClick:this.handleLoadMore},"Load More"),a&&r.a.createElement(C,{onClose:this.closeModal},r.a.createElement("img",{src:c.largeImageURL,alt:""})))}}]),t}(n.Component);o.a.render(r.a.createElement(L,null),document.getElementById("root"))},9:function(e,t,a){e.exports={gallery:"Gallery_gallery__2H_Gs"}}},[[24,1,2]]]);
//# sourceMappingURL=main.61d723a9.chunk.js.map